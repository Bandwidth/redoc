# Adding XML Example Support to ReDoc

1. Create a new XML Object in `./src/services/models` with the following properties
   1. Name: string
   2. Attribute: boolean
   3. prefix: string
   4. namespace: string
   5. wrapped: true
      * This is for wrapped arrays
2. Modify `./src/services/models/Field.ts` to include the above newly created field as an optional property
3. Modify `./src/utils/openapi.ts` to add a function checking whether or not a content type is XML
    ```js line 167
    export function isXmlLike(contentType: string): boolean {
        return contentType.search(/xml/i) !== -1;
    }
    // OR
    export function contentTypeIsXml(contentType: string): boolean {
        return contentType === 'application/xml';
    }
    ```
4. Update `./src/services/models/MediaType.ts` to:
   * Import the function created in step 3 to line 7
    ```js
    import { isJsonLike, contentTypeIsXml, mapValues } from '../../utils';
    ```
   * Create a new `generateXmlExample` function to generate the XML example from the OpenAPI Schema
     * https://github.com/oozcitak/xmlbuilder2
   * Add logic to the if/else to generate examples for XML Schemas
    ```js Line 51
    } else if (contentTypeIsXml(name)) {
      this.generateXmlExample(parser, info);
    }
    ```
    * A dependancy they are using, `openapi-sampler` to generate examples, does not and will not support XML samples
      * https://github.com/Redocly/openapi-sampler/issues/121
5. Update `./src/services/OpenApiParser.ts` `deref()` function to work for xml schemas?
6. Update the return statement in `./src/services/models/Example.ts` to generate XML examples?
    ```js Line 53
    } else if (isXmlLike(mimeType)) {
        try {
            return JSON.parse(txt);    // this needs to parse `txt` to XML
        } catch (e) {
            return txt;
        }
    }
    ```
